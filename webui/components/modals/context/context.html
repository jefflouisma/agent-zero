<html>
<head>
  <title>Context Window</title>
  <script type="module">
    import { store } from "/components/modals/context/context-store.js";
  </script>
</head>
<body>
  <div x-data class="h-full">
    <template x-if="$store.context">
      <div class="flex flex-col w-full h-full min-h-[400px]">
        
        <!-- Loading State -->
        <template x-if="$store.context.isLoading">
          <div class="flex flex-col items-center justify-center flex-1 p-8">
            <div class="animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600 mb-4"></div>
            <p class="text-gray-500 dark:text-gray-400">Loading context windowâ€¦</p>
          </div>
        </template>
        
        <!-- Error State -->
        <template x-if="$store.context.error">
          <div class="flex flex-col items-center justify-center flex-1 p-8">
            <p class="text-red-500 font-medium" x-text="$store.context.error"></p>
          </div>
        </template>
        
        <!-- Content (ACE Editor) -->
        <template x-if="!$store.context.isLoading && !$store.context.error">
          <div id="context-viewer-container" class="w-full h-[71vh] rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden"></div>
        </template>
        
      </div>
    </template>
  </div>
</body>
</html>

