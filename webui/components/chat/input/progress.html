<html>
<head>
    <script type="module">
        import { store as speechStore } from "/components/chat/speech/speech-store.js";
    </script>
</head>
<body>
    <div id="progress-bar-box" class="flex justify-between px-4 pt-2 pb-0 bg-gray-50 dark:bg-gray-900 z-[1001]">
        <h4 id="progress-bar-h" class="flex items-center justify-start h-5 mr-5 overflow-hidden text-sm font-normal text-blue-600 truncate whitespace-nowrap dark:text-blue-400">
            <span id="progress-bar-i" class="pr-2 font-bold text-gray-500 dark:text-gray-400 opacity-50">|></span>
            <span id="progress-bar" class="shiny-text"></span>
        </h4>
        <h4 id="progress-bar-stop-speech" x-data x-cloak x-show="$store.speech.isSpeaking" class="mr-5">
            <span id="stop-speech" @click="$store.speech.stop()" class="text-sm text-red-500 cursor-pointer hover:text-red-700">Stop Speech</span>
        </h4>
    </div>

    <style>
    .shiny-text { 
        background: linear-gradient(to right, #1d4ed8 20%, #111827 40%, #111827 60%, #1d4ed8 80%); 
        background-size: 200% auto; 
        color: transparent; 
        -webkit-background-clip: text; 
        background-clip: text; 
        animation: shine 1s linear infinite; 
    }
    .dark .shiny-text {
        background: linear-gradient(to right, #60a5fa 20%, #f3f4f6 40%, #f3f4f6 60%, #60a5fa 80%);
        background-size: 200% auto;
        color: transparent;
        -webkit-background-clip: text;
        background-clip: text;
    }
    @keyframes shine { to { background-position: -200% center; } }
    </style>
</body>
</html>

